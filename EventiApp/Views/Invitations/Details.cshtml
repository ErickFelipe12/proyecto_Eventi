@model EventiApp.Models.Invitation
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

@{
    ViewBag.Title = "Eventi";
}
@Html.ActionLink(".", "Index", "Events", null, new { @class = "btn btn-outline-primary bi bi-skip-backward ml-auto"})
<h2 class="ml-auto">Detalle de Invitación</h2>


<div>
    <hr />
    <br />



    <table class="table table table-striped table-hover table-bordered">
        <tr>

            <th class="text-center">
                Lugar - Tipo Evento - Descripción
            </th>
            <th class="text-center">
                Empleado - Cargo
            </th>
            <th class="text-center">
                Correo Empleado
            </th>
        </tr>



        <tr>

            <td class="text-center">
                @(String.Format("{0} - {1} - {2}", Model.Event.Place, Model.Event.Type, Model.Event.Description))
            </td>
            <td class="text-center">
                @(String.Format("{0} {1} - {2}", Model.Employee.User.Name, Model.Employee.User.LastName, Model.Employee.Position))
            </td>
            <td class="text-center">
                @Html.DisplayFor(model => model.EmailEmployee)
            </td>

        </tr>


    </table>
    <br />








    <!--- <dl class="dl-horizontal">
         <dt>
             @Html.DisplayNameFor(model => model.IdEvent)
         </dt>

         <dd>
             @(String.Format("{0} - {1} - {2}", Model.Event.Place, Model.Event.Type, Model.Event.Description))
         </dd>

         <dt>
             @Html.DisplayNameFor(model => model.IdEmployee)
         </dt>

         <dd>
             @(String.Format("{0} {1} - {2}", Model.Employee.User.Name, Model.Employee.User.LastName, Model.Employee.Position))
         </dd>

         <dt>
             @Html.DisplayNameFor(model => model.EmailEmployee)
         </dt>

         <dd>
             @Html.DisplayFor(model => model.EmailEmployee)
         </dd>-->

    <dl>
        <dd class="mt-4">
            @if (Model.Accepted)
            {
                var selected = Model.MenuSelections.Count() > 0 ? Model.MenuSelections.FirstOrDefault() : null;
                var menuSelection = new EventiApp.Models.MenuSelection()
                {
                    IdInvitation = Model.IdInvitation,
                    IdMenuSelection = selected == null ? 0 : selected.IdMenuSelection,
                    IdMenu = selected == null ? 0 : selected.IdMenu,

                };

                @Html.ActionLink(".", "Accepted", new { id = Model.IdInvitation }, new { @class = "btn btn-danger bi bi-x-circle-fill  " })
                @Html.Partial("_MenuSelectionPartial", menuSelection);

            }
            else
            {
                @Html.ActionLink(" Confirmar", "Accepted", new { id = Model.IdInvitation }, new { @class = "btn btn-success bi bi-check-circle-fill" })

            }
        </dd>

    </dl>
</div>
<p>

</p>
