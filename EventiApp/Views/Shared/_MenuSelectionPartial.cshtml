@using Microsoft.AspNet.Identity
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
@model EventiApp.Models.MenuSelection

@if (ViewBag.IdMenu.Items.Count > 0)
{

    using (Html.BeginForm("Create", "MenuSelections", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        var db = new EventiApp.Models.DataContext();
        @Html.AntiForgeryToken()
        <hr />

        <dt class=" font-monospace pb-3"> ¡Selecciona tu menú para este evento!  </dt>
        <div class="form-horizontal">



            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.IdInvitation)
            @Html.HiddenFor(model => model.IdMenuSelection)

            @*<div class="form-group">
            @Html.LabelFor(model => model.IdMenu, "Menu", htmlAttributes: new { @class = "control-label col-md-12" })

            <div class="col-md-12">
                @Html.DropDownList("IdMenu", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.IdMenu, "", new { @class = "text-danger" })
            </div>
        </div>*@


            @foreach (var lists in (SelectList)ViewBag.IdMenu)
            {
                /*<span class="row pt-2">
                    @Html.RadioButtonFor(m => m.IdMenu, lists.Value, new { id = "list" + lists.Value, name = "Lists", @value = lists.Value, @text = lists.Text })
                    <label for="list@(lists.Value)" style="color:#808080;font-weight:100">@lists.Text</label>
                </span>
            }*/



                var id = Convert.ToInt32(lists.Value);
                var menu = db.Menus.Where(m => m.IdMenu == id).FirstOrDefault();
                if (!string.IsNullOrEmpty(menu.Photo))
                {
                    <img src="~/Content/Menus/@Url.Content(menu.Photo)" alt="image" style="width:200px;height:50px;max-width:100%;height:auto;" />
                }
                else
                {
                    <img src="~/Content/Menus/default.png" alt="image" style="width:200px;height:50px;max-width:100%;height:auto;" />


                    /*<div class="form-group pt-4">
                        <div class="col-md-offset-2 col-md-10 bi bi-check2-circle text-success">
                            <input type="submit" value="" class="btn btn-outline-success" />

                        </div>
                    </div>
                    <br />*/
                }
                <span class="row pt-2">
                    @Html.RadioButtonFor(m => m.IdMenu, lists.Value, new { id = "list" + lists.Value, name = "Lists", @value = lists.Value, @text = lists.Text })
                    <label for="list@(lists.Value)" style="color:#808080;font-weight:100">@lists.Text</label>
                </span>
            }
            <br />
            <br />

            <div class="form-group pt-4">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Actualizar menú" class="btn btn-primary" />

                </div>

            </div>
            <br />
            <br />



            <small class=" font-monospace pb-1 text-danger">¡AVISO!, Si desea cambiar su elección de menú debe ser maximo 3 días antes que el día del evento.   </small>
            <br />
            <small class=" font-monospace pb-3 text-danger">De lo contrario se tendrá en cuenta su elección anterior.   </small>

        </div>

            }
            }
            else
            {
            <h5 class="pt-3">No hay menús disponibles para este evento.</h5>
            }
